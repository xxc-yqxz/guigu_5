<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8" />
	<title>8_axios批量发送请求</title>
	<script type="text/javascript" src="./js/axios.min.js"></script>
</head>

<body>
	<button id="btn">点我批量发送请求</button><br /><br />
	<script type="text/javascript">
		const btn = document.getElementById('btn')

		btn.onclick = async () => {
			// 三个请求同时发送。
			axios.all([
				axios.get('http://localhost:5000/test1'),
				axios.get('http://localhost:5000/test2?delay=3000'),
				axios.get('http://localhost:5000/test3'),
			]).then(
				// 即使test2收到数据最慢，也会将结果按顺序封装
				response => { console.log(response); },
				error => { console.log(error); }
			)
		}
	</script>
</body>

</html>